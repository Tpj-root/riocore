{
    "name": "Arty-a7-35t",
    "description": "Arty a7-35t - testing",
    "boardcfg": "Arty-a7-35t",
    "machinetype": "lathe",
    "transport": "UDP",
    "axis": 2,
    "linuxcnc": {
        "ini": {
            "DISPLAY": {
                "DEFAULT_LINEAR_VELOCITY": 20.0
            },
            "TRJ": {
                "DEFAULT_LINEAR_VELOCITY": 20.0
            }
        }
    },
    "modules": [
        {
            "slot": "ChipKit",
            "module": "cnc-shield-v3",
            "setup": {
                "enable": {
                    "type": "bitout",
                    "name": "enable",
                    "pins": {
                        "bit": {
                            "modifier": [
                                {
                                    "type": "invert"
                                },
                                {
                                    "type": "onerror"
                                },
                                {
                                    "type": "invert"
                                }
                            ]
                        }
                    }
                },
                "home-x": {
                    "type": "bitin",
                    "name": "home-x",
                    "net": "joint.1.home-sw-in",
                    "pins": {
                        "bit": {
                            "pullup": true
                        }
                    }
                },
                "home-y": {
                    "type": "bitin",
                    "name": "home-z",
                    "net": "joint.0.home-sw-in",
                    "pins": {
                        "bit": {
                            "pullup": true
                        }
                    }
                },
                "home-z": {
                    "type": "bitin",
                    "name": "home-none",
                    "net": "",
                    "pins": {
                        "bit": {
                            "pullup": true
                        }
                    }
                },
                "spindle-enable": {
                    "type": "bitout",
                    "name": "spindle-enable",
                    "net": "spindle.0.on",
                    "pins": {
                        "bit": {
                            "modifier": [
                                {
                                    "type": "invert"
                                }
                            ]
                        }
                    }
                },
                "spindle-dir": {
                    "type": "bitout",
                    "name": "spindle-dir",
                    "pins": {
                        "bit": {}
                    }
                },
                "coolant": {
                    "type": "bitout",
                    "name": "coolant",
                    "pins": {
                        "bit": {
                            "invert": true
                        }
                    }
                },
                "e-stop": {
                    "type": "bitin",
                    "name": "e-stop",
                    "pins": {
                        "bit": {
                            "pullup": true
                        }
                    }
                },
                "joint-0": {
                    "name": "joint-0",
                    "type": "stepdir",
                    "pins": {
                        "step": {},
                        "dir": {}
                    },
                    "joint": true,
                    "scale": -800.0,
                    "max_velocity": 40.0,
                    "max_acceleration": 1200.0,
                    "backlash": 0.0,
                    "axis": "Z"
                },
                "joint-1": {
                    "name": "joint-1",
                    "type": "stepdir",
                    "pins": {
                        "step": {},
                        "dir": {}
                    },
                    "joint": true,
                    "scale": 820.0,
                    "max_velocity": 20.0,
                    "max_acceleration": 500.0,
                    "axis": "X",
                    "backlash": 0.1
                },
                "joint-2": {
                    "name": "joint-2",
                    "type": "stepdir",
                    "pins": {
                        "step": {},
                        "dir": {}
                    },
                    "joint": false,
                    "scale": 320.0,
                    "max_velocity": 20.0,
                    "max_acceleration": 500.0,
                    "backlash": 0.0
                }
            }
        },
        {
            "slot": "PMOD_JB",
            "module": "quadencoderz",
            "setup": {
                "quadencoderz": {
                    "scale": 600,
                    "type": "quadencoderz",
                    "name": "quadencoderz",
                    "pins": {
                        "a": {},
                        "b": {},
                        "z": {}
                    },
                    "signals": {
                        "indexenable": {
                            "net": "spindle.0.index-enable"
                        },
                        "position": {
                            "net": "spindle.0.revs"
                        }
                    }
                }
            }
        }
    ],
    "plugins": [
        {
            "name": "SW0",
            "type": "bitin",
            "pins": {
                "bit": {
                    "pin": "A8",
                    "modifier": [
                        {
                            "type": "debounce"
                        }
                    ]
                }
            }
        },
        {
            "name": "SW1",
            "type": "bitin",
            "pins": {
                "bit": {
                    "pin": "C11",
                    "modifier": [
                        {
                            "type": "debounce"
                        }
                    ]
                }
            }
        },
        {
            "name": "SW2",
            "type": "bitin",
            "pins": {
                "bit": {
                    "pin": "C10",
                    "modifier": [
                        {
                            "type": "debounce"
                        }
                    ]
                }
            }
        },
        {
            "name": "SW3",
            "type": "bitin",
            "pins": {
                "bit": {
                    "pin": "A10",
                    "modifier": [
                        {
                            "type": "debounce"
                        }
                    ]
                }
            }
        },
        {
            "name": "BTN0",
            "type": "bitin",
            "pins": {
                "bit": {
                    "pin": "D9",
                    "modifier": [
                        {
                            "type": "debounce"
                        }
                    ]
                }
            }
        },
        {
            "name": "BTN1",
            "type": "bitin",
            "pins": {
                "bit": {
                    "pin": "C9",
                    "modifier": [
                        {
                            "type": "debounce"
                        }
                    ]
                }
            }
        },
        {
            "name": "BTN2",
            "type": "bitin",
            "pins": {
                "bit": {
                    "pin": "B9",
                    "modifier": [
                        {
                            "type": "debounce"
                        }
                    ]
                }
            }
        },
        {
            "name": "BTN3",
            "type": "bitin",
            "pins": {
                "bit": {
                    "pin": "B8",
                    "modifier": [
                        {
                            "type": "debounce"
                        }
                    ]
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD0_R",
            "pins": {
                "bit": {
                    "pin": "G6"
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD0_G",
            "pins": {
                "bit": {
                    "pin": "F6"
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD0_B",
            "pins": {
                "bit": {
                    "pin": "E1"
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD1_R",
            "pins": {
                "bit": {
                    "pin": "G3"
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD1_G",
            "pins": {
                "bit": {
                    "pin": "J4"
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD1_B",
            "pins": {
                "bit": {
                    "pin": "G4"
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD2_R",
            "pins": {
                "bit": {
                    "pin": "J3"
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD2_G",
            "pins": {
                "bit": {
                    "pin": "J2"
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD2_B",
            "pins": {
                "bit": {
                    "pin": "H4"
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD3_R",
            "pins": {
                "bit": {
                    "pin": "K1"
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD3_G",
            "pins": {
                "bit": {
                    "pin": "H6"
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD3_B",
            "pins": {
                "bit": {
                    "pin": "K2"
                }
            }
        },
        {
            "type": "bitout",
            "name": "LD5",
            "pins": {
                "bit": {
                    "pin": "J5"
                }
            }
        },
        {
            "type": "blink",
            "pins": {
                "led": {
                    "pin": "H5",
                    "modifier": [
                        {
                            "type": "onerror"
                        }
                    ]
                }
            },
            "frequency": 1.0,
            "name": "status"
        },
        {
            "type": "quadencoder",
            "pins": {
                "a": {
                    "pin": "PMOD_JD:P10",
                    "pullup": true
                },
                "b": {
                    "pin": "PMOD_JD:P9",
                    "pullup": true
                }
            },
            "name": "jogencoder",
            "signals": {
                "position": {
                    "function": "jog.wheel"
                }
            }
        },
        {
            "type": "arty_mii",
            "mac": "AA:AF:FA:CC:E3:1C",
            "ip": "192.168.10.195",
            "port": 2390,
            "pins": {
                "phy_ref_clk": {
                    "pin": "G18"
                },
                "phy_rx_clk": {
                    "pin": "F15"
                },
                "phy_rxd0": {
                    "pin": "D18"
                },
                "phy_rxd1": {
                    "pin": "E17"
                },
                "phy_rxd2": {
                    "pin": "E18"
                },
                "phy_rxd3": {
                    "pin": "G17"
                },
                "phy_rx_dv": {
                    "pin": "G16"
                },
                "phy_rx_er": {
                    "pin": "C17"
                },
                "phy_tx_clk": {
                    "pin": "H16"
                },
                "phy_txd0": {
                    "pin": "H14"
                },
                "phy_txd1": {
                    "pin": "J14"
                },
                "phy_txd2": {
                    "pin": "J13"
                },
                "phy_txd3": {
                    "pin": "H17"
                },
                "phy_tx_en": {
                    "pin": "H15"
                },
                "phy_col": {
                    "pin": "D17"
                },
                "phy_crs": {
                    "pin": "G14"
                },
                "phy_reset_n": {
                    "pin": "C16"
                }
            }
        }
    ]
}
